Домашняя работа
0. Поставил minikube c драйвером hyper-v на windows, docker engine v19.03.13 + WSL 2 повесила систему win10 pro 20H2 через час
Поставил kubectl и подключился к minikube
При удаление подов из пространства kube-system они запускаются заново, потому что конролируются Node/minikube
Под coredns контролируется ReplicaSet
1. Cобрал контейнер на основе nginx:alpine
Поменял рабочую папку, порт и пользователя из под которого запускается контейнер
Запушил в dockerhub
Логи nginx перенаправил в stdout
Написал манифест для пода, исправил ошибки запуска в minikube
Добавил init-контайнер, который скачивает index.hml со стороннего ресурса перед запуском
Опубликовал порт контейнера nginx и проверил, что сайт работает в minikube
2. Собрал контейнер frontend и запушил в dockerhub
Попробовал запустить под frontend в minikube и сгенерировал манифест
Посмотрел логи ошибки c помощью kubectl
Написал манифест frontend-pod-healthy.yaml, которые не падает с ошибкой